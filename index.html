<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <title>WebAR Dino</title>

  <meta name="viewport"
        content="width=device-width, height=device-height,
                 initial-scale=1.0, user-scalable=no" />

  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>

  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      background: black;
    }

    canvas {
      width: 100% !important;
      height: 100% !important;
      display: block;
    }

    #startBtn {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      padding: 16px 26px;
      font-size: 18px;
      border-radius: 12px;
      border: none;
      background: #00c853;
      color: white;
      z-index: 999;
    }
  </style>
</head>

<body>

<button id="startBtn">AR 시작</button>

<a-scene
  vr-mode-ui="enabled: false"
  renderer="colorManagement: true; physicallyCorrectLights: true"
  xrweb="mode: ar; requiredFeatures: camera-access"
>

  <!-- 카메라 -->
  <a-camera position="0 1.6 0"></a-camera>

  <!-- 공룡 -->
  <a-entity
    id="dino"
    gltf-model="dino.glb"
    position="0 -0.5 -2"
    rotation="0 180 0"
    scale="0.6 0.6 0.6"
    visible="false">
  </a-entity>

  <!-- 조명 -->
  <a-light type="ambient" intensity="1.3"></a-light>
  <a-light type="directional" position="1 3 2" intensity="1"></a-light>

</a-scene>

<script>
  const btn = document.getElementById("startBtn");
  const dino = document.getElementById("dino");
  const scene = document.querySelector("a-scene");

  btn.onclick = async () => {
    btn.style.display = "none";
    try {
      await scene.enterVR();
      dino.setAttribute("visible", true);
    } catch (e) {
      alert("Android Chrome에서 실행하세요");
    }
  };
</script>

</body>
</html>
