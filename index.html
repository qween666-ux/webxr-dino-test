<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>Dino WebAR</title>

  <!-- A-Frame -->
  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>

  <!-- AR.js -->
  <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js@3.4.5/aframe/build/aframe-ar.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
</head>

<body style="margin:0; overflow:hidden; background:#000;">
  <a-scene
    embedded
    vr-mode-ui="enabled: false"
    arjs="sourceType: webcam; debugUIEnabled: false;"
    renderer="logarithmicDepthBuffer: true; precision: mediump;"
  >

    <!-- ===== 3D ìžì‚° ===== -->
    <a-assets>
      <!-- dino.glb ëŠ” index.html ê³¼ ê°™ì€ í´ë”ì— ìžˆì–´ì•¼ í•¨ -->
      <a-asset-item id="dino" src="dino.glb"></a-asset-item>
    </a-assets>

    <!-- ===== ê³µë£¡ ===== -->
    <a-entity
      id="dinoModel"
      gltf-model="#dino"
      visible="false"
      rotation="0 180 0"
      animation-mixer>
    </a-entity>

    <!-- ===== ì¹´ë©”ë¼ ===== -->
    <a-camera
      position="0 1.6 0"
      fov="60"
      look-controls="enabled: true">
    </a-camera>

  </a-scene>

  <!-- ===== ëª¨ë°”ì¼ / PC ìžë™ ë³´ì • (í•µì‹¬) ===== -->
  <script>
    window.addEventListener('load', () => {
      const dino = document.querySelector('#dinoModel');

      const isMobile = /Mobi|Android|iPhone|iPad/i.test(navigator.userAgent);

      if (isMobile) {
        // ðŸ“± ëª¨ë°”ì¼ QR ì ‘ì† ê¸°ì¤€ (ì•ˆ ë³´ìž„ ë¬¸ì œ í•´ê²°ìš© ì•ˆì „ê°’)
        dino.setAttribute('scale', '0.04 0.04 0.04');
        dino.setAttribute('position', '0 -0.8 -2');
      } else {
        // ðŸ’» PC í¬ë¡¬ ë¯¸ë¦¬ë³´ê¸°ìš©
        dino.setAttribute('scale', '0.02 0.02 0.02');
        dino.setAttribute('position', '0 -1 -3');
      }

      // ëª¨ë¸ ë¡œë“œ í›„ í‘œì‹œ
      dino.addEventListener('model-loaded', () => {
        dino.setAttribute('visible', true);
        console.log('Dino loaded');
      });
    });
  </script>

</body>
</html>
